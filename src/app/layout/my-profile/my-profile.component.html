<div [@routerTransition]>
	<app-page-header [heading]="'פרופיל משתמש'" [icon]="'fa-user'"></app-page-header>
	<div *ngIf="database.getCurrentUser() != undefined">
		<div class="row">
			<div class="col-lg-8">
				<div class="jumbotron">
					<h4>פרטי משתמש</h4>
			        <small>שם העסק</small>
		            <div class="form-group input-group">
		                <span class="input-group-addon"><i class="fa fa-user fa-fw"></i></span>
		                <input type="text" class="form-control" placeholder="שם העסק" value="{{database.getCurrentUser().child('name').val()}}" #inputCompanyName>
		            </div>
		        	<small>ח.פ \ עוסק מורשה</small>
		            <div class="form-group input-group">
		                <span class="input-group-addon"><i class="fa fa-id-badge fa-fw"></i></span>
		                <input type="text" class="form-control" placeholder="ח.פ \ עוסק מורשה" disabled="disabled" value="{{database.getCurrentUser().child('companyId').val()}}">
		            </div>
		        	<small>אימייל</small>
		            <div class="form-group input-group">
		                <span class="input-group-addon"><i class="fa fa-envelope fa-fw"></i></span>
		                <input type="text" class="form-control" placeholder="אימייל" disabled="disabled" value="{{database.getCurrentUser().child('email').val()}}">
		            </div>
		            <small>טלפון</small>
		            <div class="form-group input-group">
		                <span class="input-group-addon"><i class="fa fa-phone fa-fw"></i></span>
		                <input type="text" class="form-control" placeholder="טלפון חברה" value="{{database.getCurrentUser().child('companyPhone').val()}}" #inputCompanyPhone>
		            </div>
		            <small>כתובת למשלוח דואר</small>
		            <div class="form-group input-group">
		                <span class="input-group-addon"><i class="fa fa-map-marker fa-fw"></i></span>
		                <input type="text" class="form-control" placeholder="כתובת" value="{{database.getCurrentUser().child('companyAddress').val()}}" #inputCompanyAddress>
		            </div>
		            <button class="btn btn-primary" (click)="onSubmit()">עדכן פרטי משתמש</button>
				</div>		
			</div>
			<div class="col-lg-4">
				<div class="jumbotron" *ngIf="database.getCurrentUser().child('manager').val()">
					<h4>הגדרות משתמש</h4>
					<div class="checkbox form-control">
                        <label>
                            <input type="checkbox" checked="{{database.getCurrentUser().child('subscribedToMailingList').val() ? 'checked' : ''}}" #checkboxEmailSubscription> ברצוני לקבל הודעה למייל כאשר נוספת מודעה, כדי שאוכל להגיש הצעת מחיר
                        </label>
                    </div>
			</div>
		</div>
	</div>
	<app-footer-page></app-footer-page>
</div>
